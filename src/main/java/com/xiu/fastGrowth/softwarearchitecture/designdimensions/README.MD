# 架构设计核心维度

理解架构设计和架构师核心能力的基础上，怎么从初级架构师变成资深架构师，最大的区别就是非功能性需求的质量要求，不同系统有不同功能性区别，最大的区别就是怎么样利用现有的资源，实现最高质量，满足业务需求，在讲质量维度之前，先聊一聊系统的边界和耦合，之所以要聊这个是因为，一个系统去整体看他的质量太庞大，通常系统拆分成子系统或模块，模块或子系统相对高内聚低耦合，对于每个模块提出不同维度上的质量要求，从而实现模块，拼装在一起实现整个业务子系统，探讨架构设计5大维度，为分布式，微服务，响应式，网格化架构设计做好铺垫。

首先重点聊一聊系统边界，内聚，耦合的定义和概念

探讨如何实现高内聚，低耦合以及必坑指南

进入核心内容5大维度，第一大聊一聊扩展性维度，三维扩展立方体，给大家讲解如何实现

分析高性能，聊一聊三大实现和妥协机制

分析高可用架构，探究本地高可用，异地容灾，多活方案

分析高安全性架构，实现流程和架构安全

分析伸缩性架构，实现弹性扩缩容

案例分析和面试实战，指引架构大师之路

## 边界，内聚和耦合

what:确认系统边界，定义内聚耦合，如何实现高内聚低耦合

why:解耦，架构师永久主题

how:理论分析，案例分享，面试实战

### 确定边界

国与国-系统边界，领域边界

省市县-子系统边界，模块边界，聚合边界

教育（高校），军事（军团）分层边界

DSSA-继承传统最简单。

如，领域驱动边界划分， 传承其他通用领域的公司，如看淘宝，淘宝怎么划分我就怎么划分，学的大型企业做法。电商平台别人都有产品目录子域，订单子域，发票子域。创建3个子域，开发三套软件，配合起来，实现整套电商平台，这就是沿袭传统，沿袭其他企业做法

dssashili.png

ABSD-听用户的需求

如，图书馆，需求驱动边界划分
absd需求驱动边界划分.png

鲁棒图

三国地图

孙权：继承父兄领地-DSSA

刘备：蜀汉百姓归心-ABSD	

曹操：拳头大才是硬道理-定制，剪裁

每个里面的边界多粗，是不是很多疑惑

## 聚焦内聚

7大内聚分类：

功能内聚，顺序内聚，通信内聚，过程内聚，时间内聚，逻辑内聚，偶尔内聚

从左到右，内聚性从高到低，模块独立性从强到弱

功能内聚：模块各个组成部分执行同一功能，只执行一个功能，专一在这个功能上

顺序内聚：前一组成部分完成后，后一组成部分继续，前一模块的输出是后一模块的输入，如注册新用户后跳入登入页面，不会再让输入，mapreduce

通信内聚：模块各部分使用相同输入或输出数据，如输入配件编号，既输出库存量又输出单价，分别对应着查询库存量，查询单价

过程内聚：模块各部分受同一控制流支配

时间内聚：模块各组成部分在同一时间段内执行，模块整体在特定时间内完成。如批处理，同时执行多个业务逻辑

逻辑内聚：各组件的逻辑功能类似，由传输给模块的判断参数确定，如根据flag进行不同的逻辑

偶然内聚：模块各组成部分彼此没有关联，各组成部分刚好放在统一模块，如某个小组能力很强，支付，物流，结果混编了，会有很多坑

## 关注耦合

内聚是一个模块之间，各个组件，各个类之间关系，耦合是一个模块与另一个模块多个模块之间的关系，7大耦合分类：

非直接耦合，数据耦合，标记耦合，控制耦合，外部耦合，公共耦合，内容耦合

从左到右耦合性从低到高





缴费优化，对接收银台，自动代扣，定时任务代扣，成功后通知ff

5种消息类型通知，

疑问：

redirect_uri

订单服务

ba 订单服务数据同步到公众号
投保流程详细设计  微信公众号 h5订单同步


增删改：

自定渠道的订单，订单号-》数据同步。消息没有成功的话

消费mq，订单同步 -> 订单补偿（订单服务同步本地消息表）










